% This LaTeX was auto-generated from MATLAB code.
% To make changes, update the MATLAB code and export to LaTeX again.

\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{graphicx}
\usepackage{color}
\usepackage{hyperref}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{epstopdf}
\usepackage[table]{xcolor}
\usepackage{matlab}

\sloppy
\epstopdfsetup{outdir=./}
\graphicspath{ {./DynamicEqns_images/} }

\begin{document}

\begin{matlabcode}
clc;clear;close all;
syms m_p L_p L_r J_p J_r
syms alpha(t) theta(t) t taw
syms D_p D_r g
Eq1=(m_p*L_r^2+0.25*m_p*L_p^2*(1-cos(alpha(t)))+J_r)*...
    diff(theta,2)-0.5*m_p*L_p*L_r*cos(alpha)*diff(alpha,2)+...
    0.5*m_p*L_p^2*sin(alpha)*cos(alpha)*diff(theta)*diff(alpha)+...
    0.5*m_p*L_p*L_r*sin(alpha)*alpha^2==taw-D_r*diff(theta)
\end{matlabcode}
\begin{matlabsymbolicoutput}
Eq1(t) = 

\hskip1em $\displaystyle {\left(-\frac{m_p \,{\left(\cos \left(\alpha \left(t\right)\right)-1\right)}\,{L_p }^2 }{4}+m_p \,{L_r }^2 +J_r \right)}\,\frac{\partial^2 }{\partial t^2 }\;\theta \left(t\right)-\frac{L_p \,L_r \,m_p \,\cos \left(\alpha \left(t\right)\right)\,\frac{\partial^2 }{\partial t^2 }\;\alpha \left(t\right)}{2}+\frac{L_p \,L_r \,m_p \,\sin \left(\alpha \left(t\right)\right)\,{\alpha \left(t\right)}^2 }{2}+\frac{{L_p }^2 \,m_p \,\cos \left(\alpha \left(t\right)\right)\,\sin \left(\alpha \left(t\right)\right)\,\frac{\partial }{\partial t}\;\theta \left(t\right)\,\frac{\partial }{\partial t}\;\alpha \left(t\right)}{2}=\textrm{taw}-D_r \,\frac{\partial }{\partial t}\;\theta \left(t\right)$
\end{matlabsymbolicoutput}
\begin{matlabcode}
Eq2=0.5*m_p*L_p*L_r*cos(alpha)*diff(theta,2)+(J_p+0.25*m_p*L_p^2)*diff(alpha,2)...
    -0.25*m_p*L_p^2*cos(alpha)*sin(alpha)*diff(theta)^2+0.5*m_p*L_p*g*sin(alpha)==-D_p*diff(alpha)
\end{matlabcode}
\begin{matlabsymbolicoutput}
Eq2(t) = 

\hskip1em $\displaystyle {\left(\frac{m_p \,{L_p }^2 }{4}+J_p \right)}\,\frac{\partial^2 }{\partial t^2 }\;\alpha \left(t\right)+\frac{L_p \,g\,m_p \,\sin \left(\alpha \left(t\right)\right)}{2}-\frac{{L_p }^2 \,m_p \,\cos \left(\alpha \left(t\right)\right)\,\sin \left(\alpha \left(t\right)\right)\,{{\left(\frac{\partial }{\partial t}\;\theta \left(t\right)\right)}}^2 }{4}+\frac{L_p \,L_r \,m_p \,\cos \left(\alpha \left(t\right)\right)\,\frac{\partial^2 }{\partial t^2 }\;\theta \left(t\right)}{2}=-D_p \,\frac{\partial }{\partial t}\;\alpha \left(t\right)$
\end{matlabsymbolicoutput}
\begin{matlabcode}
Eq3=isolate(Eq1,diff(theta,2))
\end{matlabcode}
\begin{matlabsymbolicoutput}
Eq3 = 

\hskip1em $\displaystyle \frac{\partial^2 }{\partial t^2 }\;\theta \left(t\right)=-\frac{D_r \,\frac{\partial }{\partial t}\;\theta \left(t\right)-\textrm{taw}-\frac{L_p \,L_r \,m_p \,\cos \left(\alpha \left(t\right)\right)\,\frac{\partial^2 }{\partial t^2 }\;\alpha \left(t\right)}{2}+\frac{L_p \,L_r \,m_p \,\sin \left(\alpha \left(t\right)\right)\,{\alpha \left(t\right)}^2 }{2}+\frac{{L_p }^2 \,m_p \,\cos \left(\alpha \left(t\right)\right)\,\sin \left(\alpha \left(t\right)\right)\,\frac{\partial }{\partial t}\;\theta \left(t\right)\,\frac{\partial }{\partial t}\;\alpha \left(t\right)}{2}}{-\frac{m_p \,{\left(\cos \left(\alpha \left(t\right)\right)-1\right)}\,{L_p }^2 }{4}+m_p \,{L_r }^2 +J_r }$
\end{matlabsymbolicoutput}
\begin{matlabcode}
Eq4=isolate(Eq2,diff(alpha,2))
\end{matlabcode}
\begin{matlabsymbolicoutput}
Eq4 = 

\hskip1em $\displaystyle \frac{\partial^2 }{\partial t^2 }\;\alpha \left(t\right)=-\frac{\frac{L_r \,m_p \,\cos \left(\alpha \left(t\right)\right)\,L_p \,\frac{\partial^2 }{\partial t^2 }\;\theta \left(t\right)}{2}-\frac{m_p \,\cos \left(\alpha \left(t\right)\right)\,\sin \left(\alpha \left(t\right)\right)\,{L_p }^2 \,{{\left(\frac{\partial }{\partial t}\;\theta \left(t\right)\right)}}^2 }{4}+D_p \,\frac{\partial }{\partial t}\;\alpha \left(t\right)+\frac{g\,m_p \,\sin \left(\alpha \left(t\right)\right)\,L_p }{2}}{\frac{m_p \,{L_p }^2 }{4}+J_p }$
\end{matlabsymbolicoutput}
\begin{matlabcode}
Eq5=subs(Eq3,diff(alpha,2),rhs(Eq4));
Eq5=isolate(Eq5,diff(theta,2));
Eq5=simplifyFraction(Eq5)
\end{matlabcode}
\begin{matlabsymbolicoutput}
Eq5 = 

\hskip1em $\displaystyle \frac{\partial^2 }{\partial t^2 }\;\theta \left(t\right)=-\frac{2\,{\left(8\,D_r \,J_p \,\frac{\partial }{\partial t}\;\theta \left(t\right)-8\,J_p \,\textrm{taw}-2\,{L_p }^2 \,m_p \,\textrm{taw}+2\,D_r \,{L_p }^2 \,m_p \,\frac{\partial }{\partial t}\;\theta \left(t\right)+{L_p }^3 \,L_r \,{m_p }^2 \,\sin \left(\alpha \left(t\right)\right)\,{\alpha \left(t\right)}^2 +2\,{L_p }^2 \,L_r \,g\,{m_p }^2 \,\cos \left(\alpha \left(t\right)\right)\,\sin \left(\alpha \left(t\right)\right)-{L_p }^3 \,L_r \,{m_p }^2 \,{\cos \left(\alpha \left(t\right)\right)}^2 \,\sin \left(\alpha \left(t\right)\right)\,{{\left(\frac{\partial }{\partial t}\;\theta \left(t\right)\right)}}^2 +4\,J_p \,L_p \,L_r \,m_p \,\sin \left(\alpha \left(t\right)\right)\,{\alpha \left(t\right)}^2 +4\,D_p \,L_p \,L_r \,m_p \,\cos \left(\alpha \left(t\right)\right)\,\frac{\partial }{\partial t}\;\alpha \left(t\right)+{L_p }^4 \,{m_p }^2 \,\cos \left(\alpha \left(t\right)\right)\,\sin \left(\alpha \left(t\right)\right)\,\frac{\partial }{\partial t}\;\theta \left(t\right)\,\frac{\partial }{\partial t}\;\alpha \left(t\right)+4\,J_p \,{L_p }^2 \,m_p \,\cos \left(\alpha \left(t\right)\right)\,\sin \left(\alpha \left(t\right)\right)\,\frac{\partial }{\partial t}\;\theta \left(t\right)\,\frac{\partial }{\partial t}\;\alpha \left(t\right)\right)}}{{L_p }^4 \,{m_p }^2 +16\,J_p \,J_r -{L_p }^4 \,{m_p }^2 \,\cos \left(\alpha \left(t\right)\right)+4\,{L_p }^2 \,{L_r }^2 \,{m_p }^2 +4\,J_p \,{L_p }^2 \,m_p +16\,J_p \,{L_r }^2 \,m_p +4\,J_r \,{L_p }^2 \,m_p +4\,{L_p }^2 \,{L_r }^2 \,{m_p }^2 \,{\cos \left(\alpha \left(t\right)\right)}^2 -4\,J_p \,{L_p }^2 \,m_p \,\cos \left(\alpha \left(t\right)\right)}$
\end{matlabsymbolicoutput}
\begin{matlabcode}
% simplify(rhs(Eq5),"Steps",10)
% expand(Eq5)
% a=factor(rhs(Eq5),diff(theta))

Eq6=subs(Eq4,diff(theta,2),rhs(Eq3));
Eq6=isolate(Eq6,diff(alpha,2));
Eq6=simplifyFraction(Eq6)
\end{matlabcode}
\begin{matlabsymbolicoutput}
Eq6 = 

\hskip1em $\displaystyle \frac{\partial^2 }{\partial t^2 }\;\alpha \left(t\right)=-\frac{16\,D_p \,J_r \,\frac{\partial }{\partial t}\;\alpha \left(t\right)+4\,D_p \,{L_p }^2 \,m_p \,\frac{\partial }{\partial t}\;\alpha \left(t\right)+16\,D_p \,{L_r }^2 \,m_p \,\frac{\partial }{\partial t}\;\alpha \left(t\right)+2\,{L_p }^3 \,g\,{m_p }^2 \,\sin \left(\alpha \left(t\right)\right)+8\,L_p \,L_r \,m_p \,\textrm{taw}\,\cos \left(\alpha \left(t\right)\right)+8\,J_r \,L_p \,g\,m_p \,\sin \left(\alpha \left(t\right)\right)-{L_p }^4 \,{m_p }^2 \,\cos \left(\alpha \left(t\right)\right)\,\sin \left(\alpha \left(t\right)\right)\,{{\left(\frac{\partial }{\partial t}\;\theta \left(t\right)\right)}}^2 -4\,D_p \,{L_p }^2 \,m_p \,\cos \left(\alpha \left(t\right)\right)\,\frac{\partial }{\partial t}\;\alpha \left(t\right)-2\,{L_p }^3 \,g\,{m_p }^2 \,\cos \left(\alpha \left(t\right)\right)\,\sin \left(\alpha \left(t\right)\right)+8\,L_p \,{L_r }^2 \,g\,{m_p }^2 \,\sin \left(\alpha \left(t\right)\right)+{L_p }^4 \,{m_p }^2 \,{\cos \left(\alpha \left(t\right)\right)}^2 \,\sin \left(\alpha \left(t\right)\right)\,{{\left(\frac{\partial }{\partial t}\;\theta \left(t\right)\right)}}^2 -4\,{L_p }^2 \,{L_r }^2 \,{m_p }^2 \,\cos \left(\alpha \left(t\right)\right)\,\sin \left(\alpha \left(t\right)\right)\,{{\left(\frac{\partial }{\partial t}\;\theta \left(t\right)\right)}}^2 -4\,{L_p }^2 \,{L_r }^2 \,{m_p }^2 \,\cos \left(\alpha \left(t\right)\right)\,\sin \left(\alpha \left(t\right)\right)\,{\alpha \left(t\right)}^2 -4\,J_r \,{L_p }^2 \,m_p \,\cos \left(\alpha \left(t\right)\right)\,\sin \left(\alpha \left(t\right)\right)\,{{\left(\frac{\partial }{\partial t}\;\theta \left(t\right)\right)}}^2 -8\,D_r \,L_p \,L_r \,m_p \,\cos \left(\alpha \left(t\right)\right)\,\frac{\partial }{\partial t}\;\theta \left(t\right)-4\,{L_p }^3 \,L_r \,{m_p }^2 \,{\cos \left(\alpha \left(t\right)\right)}^2 \,\sin \left(\alpha \left(t\right)\right)\,\frac{\partial }{\partial t}\;\theta \left(t\right)\,\frac{\partial }{\partial t}\;\alpha \left(t\right)}{{L_p }^4 \,{m_p }^2 +16\,J_p \,J_r -{L_p }^4 \,{m_p }^2 \,\cos \left(\alpha \left(t\right)\right)+4\,{L_p }^2 \,{L_r }^2 \,{m_p }^2 +4\,J_p \,{L_p }^2 \,m_p +16\,J_p \,{L_r }^2 \,m_p +4\,J_r \,{L_p }^2 \,m_p +4\,{L_p }^2 \,{L_r }^2 \,{m_p }^2 \,{\cos \left(\alpha \left(t\right)\right)}^2 -4\,J_p \,{L_p }^2 \,m_p \,\cos \left(\alpha \left(t\right)\right)}$
\end{matlabsymbolicoutput}
\begin{matlabcode}

\end{matlabcode}

\end{document}
